<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#fef1e8" />
    <meta name="description" content="Simple to use free image tools (Analyze, Resize, Convert)" />
    <title>Rusty Image Tools</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
</head>

<body style="background-color: #fef1e8;">
    <div class="p-4 flex items-center justify-center bg-orange-100">
        <div class="text-center md:w-8/12 lg:w-6/12 xlg:w-4/12 mx-auto overflow-hidden">

            <img src="rusty.webp" alt="Cute Crab" class="mx-auto mb-6 w-48">
            <h1 class="text-4xl font-bold text-orange-600 mb-4">Rusty Image Tools</h1>
            <p class="mb-8 text-orange-500">Rust > WASM > JS image tools</p>
            <p class="mb-8 text-orange-500">A simple image resizer, converter and analysis app written in rust compiled
                to wasm running from github pages developed using ChatGPT . ðŸ¤¯ ðŸ¤– </p>

            <div class="bg-white rounded-lg p-6 shadow-lg">
                <div id="dropZone"
                    class="border-2 border-dashed border-gray-400 rounded-lg pt-12 pb-4 px-4 text-center mb-4">
                    <p>
                    </p>
                    <p><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="inline w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                      </svg> Drag and drop an image here, or click to select</p>
                    <input type="file" id="imageInput" accept="image/*" class="hidden">
                    <p id="fileName" class="text-gray-600 mt-2"></p>
                    <div id="previewContainer" class="mt-4"></div> <!-- Container for the image preview -->
                </div>

                <div id="colorsDisplay"
                    class="hidden border border-solid border-zinc-500 rounded-lg py-12 px-4 text-center mb-4">
                    <h2 class="mb-4 text-xl font-black">Image Colors</h3>
                </div>

                <div id="exifDataDisplay"
                    class="hidden border border-solid border-zinc-500 rounded-lg py-12 px-4 text-center mb-4">
                </div>

                <div id="imageExport"
                    class="hidden border border-solid border-zinc-500 rounded-lg py-2 px-4 text-center mb-4">
                    <h2 class="mb-4 text-xl font-black">Export Image</h3>
                        <div class="mb-4">
                            Width: <input type="number" id="widthInput" value="800"
                                class="border border-orange-300 p-2 rounded">
                        </div>
                        <div class="mb-6">
                            Height: <input type="number" id="heightInput" value="600"
                                class="border border-orange-300 p-2 rounded">
                        </div>

                        <div class="mb-4">
                            <label class="p-2" for="formatSelect">Select Format:</label>
                            <select class="p-2" id="formatSelect">
                                <option value="png">PNG</option>
                                <option value="webp">WebP</option>
                                <option value="jpeg">Jpeg</option>
                                <option value="avif">Avif</option>
                                <option value="bmp">Bmp</option>
                                <option value="gif">Gif</option>
                                <option value="tiff">Tiff</option>
                                <option value="ico">Ico</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label class="p-2" for="filterSelect">Select Filter:</label>
                            <select class="p-2" id="filterSelect">
                                <option value="catmull_rom">CatmullRom</option>
                                <option value="gaussian">Gaussian</option>
                                <option value="lanczos3">Lanczos3</option>
                                <option value="nearest">Nearest</option>
                                <option value="triangle">Triangle</option>
                            </select>
                        </div>

                        <button id="resizeButton"
                            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                            Export Image
                        </button>

                </div>
            </div>
            <p class="my-8">Created by Josh Chernoff | <a href="https://github.com/RustyImageTools/RustyImageTools.github.io"
                    class="text-blue-300 hover:text-blue-500">Source</a></p>
        </div>
    </div>

    <script type="application/javascript">
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('js/service-worker.js').then(function (registration) {
                    // Registration was successful
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function (err) {
                    // Registration failed :(
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
    <script type="module" src="js/app.js"> </script>
</body>

</html>